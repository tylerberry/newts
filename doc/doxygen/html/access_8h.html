<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libnewtsclient: access.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>access.h File Reference</h1><code>#include &quot;newts/config.h&quot;</code><br>
<code>#include &quot;newts/list.h&quot;</code><br>
<code>#include &quot;<a class="el" href="notesfile_8h-source.html">newts/notesfile.h</a>&quot;</code><br>

<p>
<a href="access_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaccess.html">access</a></td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="access_8h.html#0531ad307a791b72b10c716f71fda3af">access_scopes</a> { <a class="el" href="access_8h.html#0531ad307a791b72b10c716f71fda3af348f5fa507420e771c75a89b6ab94d99">SCOPE_USER</a>, 
<a class="el" href="access_8h.html#0531ad307a791b72b10c716f71fda3af4b664dc2c5ca25cc028f233d0e0877ed">SCOPE_GROUP</a>, 
<a class="el" href="access_8h.html#0531ad307a791b72b10c716f71fda3af145816d1b1495142d884f88edfbb258c">SCOPE_SYSTEM</a>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="access_8h.html#e37f7244d7ad9c8379e57615705dbd8e">access_permissions</a> { <br>
&nbsp;&nbsp;<a class="el" href="access_8h.html#e37f7244d7ad9c8379e57615705dbd8ecb9be765f361bb7efb9073730aac92c6">READ</a> =  01, 
<a class="el" href="access_8h.html#e37f7244d7ad9c8379e57615705dbd8e61aa7ff70b76bff0fda378cf61d6afbc">WRITE</a> =  02, 
<a class="el" href="access_8h.html#e37f7244d7ad9c8379e57615705dbd8ebf03d6821a344facbab75f69404b95b5">DIRECTOR</a> =  04, 
<a class="el" href="access_8h.html#e37f7244d7ad9c8379e57615705dbd8e6bd05ac0fc10609a9dae953dc42a7a76">REPLY</a> =  010, 
<br>
&nbsp;&nbsp;<a class="el" href="access_8h.html#e37f7244d7ad9c8379e57615705dbd8edce3f6fabb3ba828076711c23b81d1d7">OWNER</a> =  020
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct <a class="el" href="structaccess.html">access</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="access_8h.html#60c35e3f2b1e0b69b4563a685dd9e0f9">access_alloc</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="access_8h.html#cf3f0424886747ca4679dae6fbc45e8d">access_compare</a> (const struct <a class="el" href="structaccess.html">access</a> *one, const struct <a class="el" href="structaccess.html">access</a> *two)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="access_8h.html#bab42a1dea3d368b088b8ae6506ef27c">access_free</a> (struct <a class="el" href="structaccess.html">access</a> *<a class="el" href="structaccess.html">access</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b439ee8f6ceb01311bd276c44bf31d89"></a><!-- doxytag: member="access.h::access_has_permissions" ref="b439ee8f6ceb01311bd276c44bf31d89" args="(const struct access *access, unsigned permissions)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>access_has_permissions</b> (const struct <a class="el" href="structaccess.html">access</a> *<a class="el" href="structaccess.html">access</a>, unsigned permissions)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="24eed56ca02ee922896a47aa1dfa9c6a"></a><!-- doxytag: member="access.h::access_clear_permissions" ref="24eed56ca02ee922896a47aa1dfa9c6a" args="(struct access *access)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>access_clear_permissions</b> (struct <a class="el" href="structaccess.html">access</a> *<a class="el" href="structaccess.html">access</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b0c6ab072c0503be4093b8bf8e54da6b"></a><!-- doxytag: member="access.h::access_add_permissions" ref="b0c6ab072c0503be4093b8bf8e54da6b" args="(struct access *access, unsigned permissions)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>access_add_permissions</b> (struct <a class="el" href="structaccess.html">access</a> *<a class="el" href="structaccess.html">access</a>, unsigned permissions)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1bfc8f6bd0198f0ca5073b12cb7233af"></a><!-- doxytag: member="access.h::access_remove_permissions" ref="1bfc8f6bd0198f0ca5073b12cb7233af" args="(struct access *access, unsigned permissions)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>access_remove_permissions</b> (struct <a class="el" href="structaccess.html">access</a> *<a class="el" href="structaccess.html">access</a>, unsigned permissions)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8657e40f599ae9f12c61899f65aab1d1"></a><!-- doxytag: member="access.h::access_name" ref="8657e40f599ae9f12c61899f65aab1d1" args="(const struct access *access)" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>access_name</b> (const struct <a class="el" href="structaccess.html">access</a> *<a class="el" href="structaccess.html">access</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b1217e8f78cb5e770938271dd52015c0"></a><!-- doxytag: member="access.h::access_permissions" ref="b1217e8f78cb5e770938271dd52015c0" args="(const struct access *access)" -->
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><b>access_permissions</b> (const struct <a class="el" href="structaccess.html">access</a> *<a class="el" href="structaccess.html">access</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6ef4e9fd9c16ea6c9e7138c0a393e7f1"></a><!-- doxytag: member="access.h::access_scope" ref="6ef4e9fd9c16ea6c9e7138c0a393e7f1" args="(const struct access *access)" -->
enum <a class="el" href="access_8h.html#0531ad307a791b72b10c716f71fda3af">access_scopes</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>access_scope</b> (const struct <a class="el" href="structaccess.html">access</a> *<a class="el" href="structaccess.html">access</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4291c228201f5a2b010f861b52b60393"></a><!-- doxytag: member="access.h::access_set_name" ref="4291c228201f5a2b010f861b52b60393" args="(struct access *access, const char *new_name)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>access_set_name</b> (struct <a class="el" href="structaccess.html">access</a> *<a class="el" href="structaccess.html">access</a>, const char *new_name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="20480d2632569f2fd54f39074742799f"></a><!-- doxytag: member="access.h::access_set_permissions" ref="20480d2632569f2fd54f39074742799f" args="(struct access *acess, unsigned new_permissions)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>access_set_permissions</b> (struct <a class="el" href="structaccess.html">access</a> *acess, unsigned new_permissions)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="74c416fa716e69dd4739083300cfaf72"></a><!-- doxytag: member="access.h::access_set_scope" ref="74c416fa716e69dd4739083300cfaf72" args="(struct access *access, enum access_scopes new_scope)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>access_set_scope</b> (struct <a class="el" href="structaccess.html">access</a> *<a class="el" href="structaccess.html">access</a>, enum <a class="el" href="access_8h.html#0531ad307a791b72b10c716f71fda3af">access_scopes</a> new_scope)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6728b3aeb00ddeb02e925364c2cf712a"></a><!-- doxytag: member="access.h::get_access_list" ref="6728b3aeb00ddeb02e925364c2cf712a" args="(struct nfref *ref, List *list)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>get_access_list</b> (struct <a class="el" href="structnfref.html">nfref</a> *ref, List *list)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c79aecc29929574a74d7080744c8eca1"></a><!-- doxytag: member="access.h::write_access_list" ref="c79aecc29929574a74d7080744c8eca1" args="(struct nfref *ref, List *list)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>write_access_list</b> (struct <a class="el" href="structnfref.html">nfref</a> *ref, List *list)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="structaccess.html">access</a> rule datatype and related functions. <hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="e37f7244d7ad9c8379e57615705dbd8e"></a><!-- doxytag: member="access.h::access_permissions" ref="e37f7244d7ad9c8379e57615705dbd8e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="access_8h.html#e37f7244d7ad9c8379e57615705dbd8e">access_permissions</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Actions and <a class="el" href="structaccess.html">access</a> levels that can be specified for a given <a class="el" href="structaccess.html">access</a> rule. <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="e37f7244d7ad9c8379e57615705dbd8ecb9be765f361bb7efb9073730aac92c6"></a><!-- doxytag: member="READ" ref="e37f7244d7ad9c8379e57615705dbd8ecb9be765f361bb7efb9073730aac92c6" args="" -->READ</em>&nbsp;</td><td>
Allowed to read notes. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e37f7244d7ad9c8379e57615705dbd8e61aa7ff70b76bff0fda378cf61d6afbc"></a><!-- doxytag: member="WRITE" ref="e37f7244d7ad9c8379e57615705dbd8e61aa7ff70b76bff0fda378cf61d6afbc" args="" -->WRITE</em>&nbsp;</td><td>
Allowed to write new basenotes. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e37f7244d7ad9c8379e57615705dbd8ebf03d6821a344facbab75f69404b95b5"></a><!-- doxytag: member="DIRECTOR" ref="e37f7244d7ad9c8379e57615705dbd8ebf03d6821a344facbab75f69404b95b5" args="" -->DIRECTOR</em>&nbsp;</td><td>
Allowed to moderate the <a class="el" href="structnotesfile.html">notesfile</a> and perform other director actions. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e37f7244d7ad9c8379e57615705dbd8e6bd05ac0fc10609a9dae953dc42a7a76"></a><!-- doxytag: member="REPLY" ref="e37f7244d7ad9c8379e57615705dbd8e6bd05ac0fc10609a9dae953dc42a7a76" args="" -->REPLY</em>&nbsp;</td><td>
Allowed to reply to existing basenotes. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="e37f7244d7ad9c8379e57615705dbd8edce3f6fabb3ba828076711c23b81d1d7"></a><!-- doxytag: member="OWNER" ref="e37f7244d7ad9c8379e57615705dbd8edce3f6fabb3ba828076711c23b81d1d7" args="" -->OWNER</em>&nbsp;</td><td>
Owner of the <a class="el" href="structnotesfile.html">notesfile</a>. </td></tr>
</table>
</dl>

</div>
</div><p>
<a class="anchor" name="0531ad307a791b72b10c716f71fda3af"></a><!-- doxytag: member="access.h::access_scopes" ref="0531ad307a791b72b10c716f71fda3af" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="access_8h.html#0531ad307a791b72b10c716f71fda3af">access_scopes</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The different scopes available for defining <a class="el" href="structaccess.html">access</a> rules. <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="0531ad307a791b72b10c716f71fda3af348f5fa507420e771c75a89b6ab94d99"></a><!-- doxytag: member="SCOPE_USER" ref="0531ad307a791b72b10c716f71fda3af348f5fa507420e771c75a89b6ab94d99" args="" -->SCOPE_USER</em>&nbsp;</td><td>
Permissions for an individual user. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="0531ad307a791b72b10c716f71fda3af4b664dc2c5ca25cc028f233d0e0877ed"></a><!-- doxytag: member="SCOPE_GROUP" ref="0531ad307a791b72b10c716f71fda3af4b664dc2c5ca25cc028f233d0e0877ed" args="" -->SCOPE_GROUP</em>&nbsp;</td><td>
Permissions for a Unix group. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="0531ad307a791b72b10c716f71fda3af145816d1b1495142d884f88edfbb258c"></a><!-- doxytag: member="SCOPE_SYSTEM" ref="0531ad307a791b72b10c716f71fda3af145816d1b1495142d884f88edfbb258c" args="" -->SCOPE_SYSTEM</em>&nbsp;</td><td>
Permissions for all users from a given host. </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="60c35e3f2b1e0b69b4563a685dd9e0f9"></a><!-- doxytag: member="access.h::access_alloc" ref="60c35e3f2b1e0b69b4563a685dd9e0f9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structaccess.html">access</a>* access_alloc           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new struct <a class="el" href="structaccess.html">access</a>.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A newly allocated struct <a class="el" href="structaccess.html">access</a>. This should be freed with access_free when no longer needed.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="access_8h.html#bab42a1dea3d368b088b8ae6506ef27c">access_free</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="cf3f0424886747ca4679dae6fbc45e8d"></a><!-- doxytag: member="access.h::access_compare" ref="cf3f0424886747ca4679dae6fbc45e8d" args="(const struct access *one, const struct access *two)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int access_compare           </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structaccess.html">access</a> *&nbsp;</td>
          <td class="paramname"> <em>one</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structaccess.html">access</a> *&nbsp;</td>
          <td class="paramname"> <em>two</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compare two <a class="el" href="structaccess.html">access</a> rules, <em>one</em> and <em>two</em>, by the standard sorting rules used by the original notesfiles: first sorting by scope, where the ordering is user &lt; group &lt; system, then alphabetically by name. The name "other" is treated specially, and always sorts to the bottom. The name comparison is case-sensitive. Suitable as an argument to qsort(3) or other functions using the qsort interface.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><ul>
<li>-1 if <em>one</em> is "less than" than <em>two</em>. </li>
<li>0 if <em>one</em> and <em>two</em> are "equal". </li>
<li>1 if <em>one</em> is "greater" than <em>two</em>. </li>
</ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="bab42a1dea3d368b088b8ae6506ef27c"></a><!-- doxytag: member="access.h::access_free" ref="bab42a1dea3d368b088b8ae6506ef27c" args="(struct access *access)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void access_free           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaccess.html">access</a> *&nbsp;</td>
          <td class="paramname"> <em>access</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Deallocate <em>ref</em>.<p>
<dl class="user" compact><dt><b>Side effects:</b></dt><dd><em>ref</em> will be invalidated, and should no longer be used.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="access_8h.html#60c35e3f2b1e0b69b4563a685dd9e0f9">access_alloc</a> </dd></dl>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Dec 30 13:30:20 2007 for libnewtsclient by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
